<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Aula 18 - fetch</title>
</head>
<script>
window.onload=function(){

// https:viacep.com.br/ws/${cep}/json/

function resultadoCep(dadosCep){
    for( let campo in dadosCep )
       if(document.querySelector(`#${campo}`)){
        document.querySelector(`#${campo}.`).value = dadosCep[campo]
       }

}

 let dadosCep = async function(cep){
    let url = `https:viacep.com.br/ws/${cep}/json/`
    // console.log(url)
  try{   
    let dadosFetch = await fetch(url)
    let dadosJson = await dadosFetch.json()
    // console.log(dadosJson)
    resultadoCep(dadosJson)
}catch (error){
    alert(error)
}
}
// dadosCep('87075555')

const btnBuscar = document.querySelector('#buscarCep')
const cep_ = document.querySelector('#numeroCep')

btnBuscar.addEventListener('click', function(){

    dadosCep(cep_.value)

})

}
</script>
<body>
    <input type="text" name="" placeholder="Digite um CEP valido" id="numeroCep">
    <input type="text" name=""  id="logradouro">
    <input type="button" name="buscar" value="BUSCAR" id="buscarCep">

</body>
</html>